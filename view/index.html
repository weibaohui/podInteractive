<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
</head>
<body>
<form>
    <p>ns:<input id="ns" type="text" value="default"></p>
    <p>podName<input id="podName" type="text" value="podName"></p>
    <p>containerName<input id="containerName" type="text" value=""></p>
    <p><input type="button" id="log" value="生成log连接"> <input type="button" id="exec" value="生成exec连接"></p>
    <a href="" id="link" target="_blank"></a>
</form>
</body>

<script>
    //获取QueryString的数组
    function getQueryString() {
        var result = location.search.match(new RegExp("[\?\&][^\?\&]+=[^\?\&]+", "g"));
        if (result == null) {
            return "";
        }
        for (var i = 0; i < result.length; i++) {
            result[i] = result[i].substring(1);
        }
        return result;
    }

    //根据QueryString参数名称获取值
    function getQueryStringByName(name) {
        var result = location.search.match(new RegExp("[\?\&]" + name + "=([^\&]+)", "i"));
        if (result == null || result.length < 1) {
            return "";

        }
        return result[1];
    }

    //根据QueryString参数索引获取值
    function getQueryStringByIndex(index) {
        if (index == null) {
            return "";
        }
        var queryStringList = getQueryString();
        if (index >= queryStringList.length) {
            return "";
        }
        var result = queryStringList[index];
        var startIndex = result.indexOf("=") + 1;
        result = result.substring(startIndex);
        return result;

    }


    document.getElementById("log").onclick = function (evt) {

        var ns = document.getElementById("ns").value;
        var podName = document.getElementById("podName").value;
        var containerName = document.getElementById("containerName").value;
        var path = "http://{{.}}/log?ns=" + ns + "&podName=" + podName + "&containerName=" + containerName
        document.getElementById("link").setAttribute("href", path);
        document.getElementById("link").href = path;
        document.getElementById("link").innerHTML = path;
        return false;
    };
    document.getElementById("exec").onclick = function (evt) {

        var ns = document.getElementById("ns").value;
        var podName = document.getElementById("podName").value;
        var containerName = document.getElementById("containerName").value;
        var path = "http://{{.}}/exec?ns=" + ns + "&podName=" + podName + "&containerName=" + containerName
        document.getElementById("link").setAttribute("href", path);
        document.getElementById("link").href = path;
        document.getElementById("link").innerHTML = path;
        return false;
    };

</script>
</html>